<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 1200">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 24px; font-weight: bold; fill: #1a1a1a; }
      .subtitle { font-family: Arial, sans-serif; font-size: 16px; font-weight: bold; fill: #333; }
      .label { font-family: Arial, sans-serif; font-size: 12px; fill: #333; }
      .small-label { font-family: Arial, sans-serif; font-size: 10px; fill: #555; }
      .layer-bg { fill: #f8f9fa; stroke: #dee2e6; stroke-width: 2; rx: 8; }
      .feature-box { fill: #e3f2fd; stroke: #2196f3; stroke-width: 2; rx: 6; }
      .service-box { fill: #e8f5e8; stroke: #4caf50; stroke-width: 2; rx: 6; }
      .core-box { fill: #fff3e0; stroke: #ff9800; stroke-width: 2; rx: 6; }
      .external-box { fill: #fce4ec; stroke: #e91e63; stroke-width: 2; rx: 6; }
      .data-box { fill: #f3e5f5; stroke: #9c27b0; stroke-width: 2; rx: 6; }
      .flow-arrow { stroke: #666; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .bi-arrow { stroke: #666; stroke-width: 2; fill: none; marker-start: url(#arrowhead); marker-end: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="1400" height="1200" fill="#ffffff"/>
  
  <!-- Title -->
  <text x="700" y="30" text-anchor="middle" class="title">Asmbli Desktop Application - System Architecture</text>
  <text x="700" y="50" text-anchor="middle" class="small-label">Flutter Desktop App with AI Agents, MCP Integration, and Multi-Canvas Design System</text>
  
  <!-- User Interface Layer -->
  <rect x="50" y="80" width="1300" height="140" class="layer-bg"/>
  <text x="60" y="100" class="subtitle">User Interface Layer (Flutter + Design System)</text>
  
  <!-- Features in UI Layer -->
  <rect x="70" y="110" width="120" height="50" class="feature-box"/>
  <text x="130" y="130" text-anchor="middle" class="label">Chat Screen</text>
  <text x="130" y="145" text-anchor="middle" class="small-label">Conversations</text>
  
  <rect x="210" y="110" width="120" height="50" class="feature-box"/>
  <text x="270" y="130" text-anchor="middle" class="label">Agent Builder</text>
  <text x="270" y="145" text-anchor="middle" class="small-label">Create/Manage</text>
  
  <rect x="350" y="110" width="120" height="50" class="feature-box"/>
  <text x="410" y="130" text-anchor="middle" class="label">Canvas Screen</text>
  <text x="410" y="145" text-anchor="middle" class="small-label">Excalidraw</text>
  
  <rect x="490" y="110" width="120" height="50" class="feature-box"/>
  <text x="550" y="130" text-anchor="middle" class="label">Settings</text>
  <text x="550" y="145" text-anchor="middle" class="small-label">Config/API Keys</text>
  
  <rect x="630" y="110" width="140" height="50" class="feature-box"/>
  <text x="700" y="130" text-anchor="middle" class="label">Design System</text>
  <text x="700" y="145" text-anchor="middle" class="small-label">5 Color Schemes</text>
  
  <rect x="790" y="110" width="120" height="50" class="feature-box"/>
  <text x="850" y="125" text-anchor="middle" class="label">Navigation</text>
  <text x="850" y="140" text-anchor="middle" class="small-label">Routing</text>
  <text x="850" y="155" text-anchor="middle" class="small-label">App Routes</text>
  
  <rect x="930" y="110" width="140" height="50" class="feature-box"/>
  <text x="1000" y="130" text-anchor="middle" class="label">Component Library</text>
  <text x="1000" y="145" text-anchor="middle" class="small-label">Flutter Widgets</text>
  
  <rect x="1090" y="110" width="120" height="50" class="feature-box"/>
  <text x="1150" y="130" text-anchor="middle" class="label">Context Panel</text>
  <text x="1150" y="145" text-anchor="middle" class="small-label">Documents</text>
  
  <rect x="1230" y="110" width="100" height="50" class="feature-box"/>
  <text x="1280" y="130" text-anchor="middle" class="label">Tools</text>
  <text x="1280" y="145" text-anchor="middle" class="small-label">MCP Tools</text>
  
  <!-- State Management Layer -->
  <rect x="50" y="240" width="1300" height="80" class="layer-bg"/>
  <text x="60" y="260" class="subtitle">State Management Layer (Riverpod)</text>
  
  <rect x="70" y="270" width="200" height="40" class="core-box"/>
  <text x="170" y="285" text-anchor="middle" class="label">1096+ Riverpod Providers</text>
  <text x="170" y="300" text-anchor="middle" class="small-label">StateNotifier, Future, Stream</text>
  
  <rect x="290" y="270" width="180" height="40" class="core-box"/>
  <text x="380" y="285" text-anchor="middle" class="label">Agent State Management</text>
  <text x="380" y="300" text-anchor="middle" class="small-label">Builder, Configuration</text>
  
  <rect x="490" y="270" width="180" height="40" class="core-box"/>
  <text x="580" y="285" text-anchor="middle" class="label">Chat State Management</text>
  <text x="580" y="300" text-anchor="middle" class="small-label">Messages, Conversations</text>
  
  <rect x="690" y="270" width="180" height="40" class="core-box"/>
  <text x="780" y="285" text-anchor="middle" class="label">Canvas State</text>
  <text x="780" y="300" text-anchor="middle" class="small-label">Excalidraw Elements</text>
  
  <rect x="890" y="270" width="180" height="40" class="core-box"/>
  <text x="980" y="285" text-anchor="middle" class="label">Settings State</text>
  <text x="980" y="300" text-anchor="middle" class="small-label">Theme, API Config</text>
  
  <rect x="1090" y="270" width="180" height="40" class="core-box"/>
  <text x="1180" y="285" text-anchor="middle" class="label">Context State</text>
  <text x="1180" y="300" text-anchor="middle" class="small-label">Documents, Resources</text>
  
  <!-- Business Logic Layer -->
  <rect x="50" y="340" width="1300" height="180" class="layer-bg"/>
  <text x="60" y="360" class="subtitle">Business Logic Layer (110+ Services)</text>
  
  <!-- Core Services -->
  <text x="70" y="380" class="label">Core Services:</text>
  <rect x="70" y="385" width="140" height="50" class="service-box"/>
  <text x="140" y="405" text-anchor="middle" class="label">Service Locator</text>
  <text x="140" y="420" text-anchor="middle" class="small-label">Dependency Injection</text>
  
  <rect x="220" y="385" width="140" height="50" class="service-box"/>
  <text x="290" y="405" text-anchor="middle" class="label">Agent Service</text>
  <text x="290" y="420" text-anchor="middle" class="small-label">CRUD, Management</text>
  
  <rect x="370" y="385" width="140" height="50" class="service-box"/>
  <text x="440" y="405" text-anchor="middle" class="label">Conversation</text>
  <text x="440" y="420" text-anchor="middle" class="small-label">Chat History</text>
  
  <rect x="520" y="385" width="140" height="50" class="service-box"/>
  <text x="590" y="405" text-anchor="middle" class="label">Context Service</text>
  <text x="590" y="420" text-anchor="middle" class="small-label">Document Context</text>
  
  <!-- LLM Services -->
  <text x="70" y="455" class="label">LLM Integration:</text>
  <rect x="70" y="460" width="120" height="50" class="service-box"/>
  <text x="130" y="480" text-anchor="middle" class="label">Unified LLM</text>
  <text x="130" y="495" text-anchor="middle" class="small-label">Provider Abstraction</text>
  
  <rect x="200" y="460" width="100" height="50" class="service-box"/>
  <text x="250" y="480" text-anchor="middle" class="label">OpenAI</text>
  <text x="250" y="495" text-anchor="middle" class="small-label">API Service</text>
  
  <rect x="310" y="460" width="100" height="50" class="service-box"/>
  <text x="360" y="480" text-anchor="middle" class="label">Claude API</text>
  <text x="360" y="495" text-anchor="middle" class="small-label">Anthropic</text>
  
  <rect x="420" y="460" width="100" height="50" class="service-box"/>
  <text x="470" y="480" text-anchor="middle" class="label">Google API</text>
  <text x="470" y="495" text-anchor="middle" class="small-label">Gemini</text>
  
  <rect x="530" y="460" width="100" height="50" class="service-box"/>
  <text x="580" y="480" text-anchor="middle" class="label">Kimi API</text>
  <text x="580" y="495" text-anchor="middle" class="small-label">Moonshot</text>
  
  <rect x="640" y="460" width="100" height="50" class="service-box"/>
  <text x="690" y="480" text-anchor="middle" class="label">Ollama</text>
  <text x="690" y="495" text-anchor="middle" class="small-label">Local LLMs</text>
  
  <!-- MCP Services -->
  <text x="760" y="455" class="label">MCP Integration (46 Services):</text>
  <rect x="760" y="460" width="120" height="50" class="service-box"/>
  <text x="820" y="480" text-anchor="middle" class="label">MCP Bridge</text>
  <text x="820" y="495" text-anchor="middle" class="small-label">Core Protocol</text>
  
  <rect x="890" y="460" width="120" height="50" class="service-box"/>
  <text x="950" y="480" text-anchor="middle" class="label">MCP Catalog</text>
  <text x="950" y="495" text-anchor="middle" class="small-label">Server Discovery</text>
  
  <rect x="1020" y="460" width="120" height="50" class="service-box"/>
  <text x="1080" y="480" text-anchor="middle" class="label">Agent MCP</text>
  <text x="1080" y="495" text-anchor="middle" class="small-label">Integration</text>
  
  <rect x="1150" y="460" width="120" height="50" class="service-box"/>
  <text x="1210" y="480" text-anchor="middle" class="label">MCP Execution</text>
  <text x="1210" y="495" text-anchor="middle" class="small-label">Server Lifecycle</text>
  
  <!-- Design Agent Section -->
  <rect x="680" y="385" width="200" height="50" class="service-box"/>
  <text x="780" y="405" text-anchor="middle" class="label">Design Agent Orchestrator</text>
  <text x="780" y="420" text-anchor="middle" class="small-label">Canvas Integration</text>
  
  <rect x="890" y="385" width="180" height="50" class="service-box"/>
  <text x="980" y="405" text-anchor="middle" class="label">Smart Agent Service</text>
  <text x="980" y="420" text-anchor="middle" class="small-label">Multi-Model AI</text>
  
  <rect x="1080" y="385" width="180" height="50" class="service-box"/>
  <text x="1170" y="405" text-anchor="middle" class="label">OpenAI Vision</text>
  <text x="1170" y="420" text-anchor="middle" class="small-label">Wireframe to Code</text>
  
  <!-- Storage Layer -->
  <rect x="50" y="540" width="1300" height="100" class="layer-bg"/>
  <text x="60" y="560" class="subtitle">Data Persistence Layer</text>
  
  <rect x="70" y="570" width="150" height="60" class="data-box"/>
  <text x="145" y="590" text-anchor="middle" class="label">Hive Storage</text>
  <text x="145" y="605" text-anchor="middle" class="small-label">Key-Value</text>
  <text x="145" y="620" text-anchor="middle" class="small-label">Preferences</text>
  
  <rect x="240" y="570" width="150" height="60" class="data-box"/>
  <text x="315" y="590" text-anchor="middle" class="label">SQLite</text>
  <text x="315" y="605" text-anchor="middle" class="small-label">Relational Data</text>
  <text x="315" y="620" text-anchor="middle" class="small-label">Agents, Chats</text>
  
  <rect x="410" y="570" width="150" height="60" class="data-box"/>
  <text x="485" y="590" text-anchor="middle" class="label">Secure Storage</text>
  <text x="485" y="605" text-anchor="middle" class="small-label">API Keys</text>
  <text x="485" y="620" text-anchor="middle" class="small-label">Credentials</text>
  
  <rect x="580" y="570" width="150" height="60" class="data-box"/>
  <text x="655" y="590" text-anchor="middle" class="label">Local Files</text>
  <text x="655" y="605" text-anchor="middle" class="small-label">Documents</text>
  <text x="655" y="620" text-anchor="middle" class="small-label">Context</text>
  
  <rect x="750" y="570" width="150" height="60" class="data-box"/>
  <text x="825" y="590" text-anchor="middle" class="label">Excalidraw</text>
  <text x="825" y="605" text-anchor="middle" class="small-label">Canvas Data</text>
  <text x="825" y="620" text-anchor="middle" class="small-label">WebView Storage</text>
  
  <rect x="920" y="570" width="150" height="60" class="data-box"/>
  <text x="995" y="590" text-anchor="middle" class="label">Component Lib</text>
  <text x="995" y="605" text-anchor="middle" class="small-label">Flutter Widgets</text>
  <text x="995" y="620" text-anchor="middle" class="small-label">Centralized</text>
  
  <rect x="1090" y="570" width="150" height="60" class="data-box"/>
  <text x="1165" y="590" text-anchor="middle" class="label">MCP Servers</text>
  <text x="1165" y="605" text-anchor="middle" class="small-label">External Tools</text>
  <text x="1165" y="620" text-anchor="middle" class="small-label">Process Mgmt</text>
  
  <!-- External Integrations Layer -->
  <rect x="50" y="660" width="1300" height="120" class="layer-bg"/>
  <text x="60" y="680" class="subtitle">External Integrations</text>
  
  <!-- AI Providers -->
  <text x="70" y="700" class="label">AI Providers:</text>
  <rect x="70" y="705" width="120" height="40" class="external-box"/>
  <text x="130" y="720" text-anchor="middle" class="label">OpenAI API</text>
  <text x="130" y="735" text-anchor="middle" class="small-label">GPT-4, Vision</text>
  
  <rect x="200" y="705" width="120" height="40" class="external-box"/>
  <text x="260" y="720" text-anchor="middle" class="label">Anthropic</text>
  <text x="260" y="735" text-anchor="middle" class="small-label">Claude Models</text>
  
  <rect x="330" y="705" width="120" height="40" class="external-box"/>
  <text x="390" y="720" text-anchor="middle" class="label">Google AI</text>
  <text x="390" y="735" text-anchor="middle" class="small-label">Gemini</text>
  
  <rect x="460" y="705" width="120" height="40" class="external-box"/>
  <text x="520" y="720" text-anchor="middle" class="label">Local LLMs</text>
  <text x="520" y="735" text-anchor="middle" class="small-label">Ollama</text>
  
  <!-- MCP Servers -->
  <text x="600" y="700" class="label">MCP Ecosystem:</text>
  <rect x="600" y="705" width="100" height="40" class="external-box"/>
  <text x="650" y="720" text-anchor="middle" class="label">GitHub</text>
  <text x="650" y="735" text-anchor="middle" class="small-label">MCP Server</text>
  
  <rect x="710" y="705" width="100" height="40" class="external-box"/>
  <text x="760" y="720" text-anchor="middle" class="label">File System</text>
  <text x="760" y="735" text-anchor="middle" class="small-label">MCP Server</text>
  
  <rect x="820" y="705" width="100" height="40" class="external-box"/>
  <text x="870" y="720" text-anchor="middle" class="label">Database</text>
  <text x="870" y="735" text-anchor="middle" class="small-label">MCP Server</text>
  
  <rect x="930" y="705" width="100" height="40" class="external-box"/>
  <text x="980" y="720" text-anchor="middle" class="label">Terminal</text>
  <text x="980" y="735" text-anchor="middle" class="small-label">MCP Server</text>
  
  <!-- Platform Services -->
  <text x="1050" y="700" class="label">Platform:</text>
  <rect x="1050" y="705" width="100" height="40" class="external-box"/>
  <text x="1100" y="720" text-anchor="middle" class="label">macOS</text>
  <text x="1100" y="735" text-anchor="middle" class="small-label">Keychain</text>
  
  <rect x="1160" y="705" width="100" height="40" class="external-box"/>
  <text x="1210" y="720" text-anchor="middle" class="label">Windows</text>
  <text x="1210" y="735" text-anchor="middle" class="small-label">Services</text>
  
  <rect x="1270" y="705" width="100" height="40" class="external-box"/>
  <text x="1320" y="720" text-anchor="middle" class="label">Linux</text>
  <text x="1320" y="735" text-anchor="middle" class="small-label">Services</text>
  
  <!-- Canvas Integration Focus Area -->
  <rect x="50" y="800" width="1300" height="160" class="layer-bg" fill="#f0f8ff"/>
  <text x="60" y="820" class="subtitle">Canvas Integration Architecture (Design Agent ↔ Excalidraw)</text>
  
  <!-- Design Agent Flow -->
  <rect x="70" y="830" width="140" height="50" class="feature-box"/>
  <text x="140" y="850" text-anchor="middle" class="label">Design Agent</text>
  <text x="140" y="865" text-anchor="middle" class="small-label">Natural Language</text>
  
  <rect x="230" y="830" width="140" height="50" class="service-box"/>
  <text x="300" y="850" text-anchor="middle" class="label">Command Parser</text>
  <text x="300" y="865" text-anchor="middle" class="small-label">NL → Actions</text>
  
  <rect x="390" y="830" width="140" height="50" class="core-box"/>
  <text x="460" y="850" text-anchor="middle" class="label">Component Lib</text>
  <text x="460" y="865" text-anchor="middle" class="small-label">Flutter Widgets</text>
  
  <rect x="550" y="830" width="140" height="50" class="service-box"/>
  <text x="620" y="850" text-anchor="middle" class="label">Canvas Bridge</text>
  <text x="620" y="865" text-anchor="middle" class="small-label">JS ↔ Flutter</text>
  
  <rect x="710" y="830" width="140" height="50" class="external-box"/>
  <text x="780" y="850" text-anchor="middle" class="label">Excalidraw</text>
  <text x="780" y="865" text-anchor="middle" class="small-label">WebView Canvas</text>
  
  <!-- Vision Flow -->
  <rect x="870" y="830" width="140" height="50" class="service-box"/>
  <text x="940" y="850" text-anchor="middle" class="label">Vision Service</text>
  <text x="940" y="865" text-anchor="middle" class="small-label">Image Analysis</text>
  
  <rect x="1030" y="830" width="140" height="50" class="external-box"/>
  <text x="1100" y="850" text-anchor="middle" class="label">OpenAI Vision</text>
  <text x="1100" y="865" text-anchor="middle" class="small-label">Wireframe→Code</text>
  
  <rect x="1190" y="830" width="140" height="50" class="feature-box"/>
  <text x="1260" y="850" text-anchor="middle" class="label">Code Output</text>
  <text x="1260" y="865" text-anchor="middle" class="small-label">Flutter Code</text>
  
  <!-- Component Creation Flow -->
  <text x="70" y="905" class="label">Component Creation Flow:</text>
  <rect x="70" y="910" width="100" height="35" class="service-box"/>
  <text x="120" y="925" text-anchor="middle" class="small-label">Dart Models</text>
  <text x="120" y="935" text-anchor="middle" class="small-label">Definition</text>
  
  <rect x="180" y="910" width="100" height="35" class="service-box"/>
  <text x="230" y="925" text-anchor="middle" class="small-label">JS Functions</text>
  <text x="230" y="935" text-anchor="middle" class="small-label">Creation</text>
  
  <rect x="290" y="910" width="100" height="35" class="service-box"/>
  <text x="340" y="925" text-anchor="middle" class="small-label">Excalidraw</text>
  <text x="340" y="935" text-anchor="middle" class="small-label">Elements</text>
  
  <!-- Local LLM Integration -->
  <text x="420" y="905" class="label">Local LLM Integration:</text>
  <rect x="420" y="910" width="100" height="35" class="service-box"/>
  <text x="470" y="925" text-anchor="middle" class="small-label">DeepSeek-R1</text>
  <text x="470" y="935" text-anchor="middle" class="small-label">Planning</text>
  
  <rect x="530" y="910" width="100" height="35" class="service-box"/>
  <text x="580" y="925" text-anchor="middle" class="small-label">LLaVA</text>
  <text x="580" y="935" text-anchor="middle" class="small-label">Vision</text>
  
  <rect x="640" y="910" width="100" height="35" class="service-box"/>
  <text x="690" y="925" text-anchor="middle" class="small-label">Ollama</text>
  <text x="690" y="935" text-anchor="middle" class="small-label">Runtime</text>
  
  <!-- Templates -->
  <text x="770" y="905" class="label">Screen Templates:</text>
  <rect x="770" y="910" width="80" height="35" class="core-box"/>
  <text x="810" y="925" text-anchor="middle" class="small-label">Dashboard</text>
  
  <rect x="860" y="910" width="80" height="35" class="core-box"/>
  <text x="900" y="925" text-anchor="middle" class="small-label">List View</text>
  
  <rect x="950" y="910" width="80" height="35" class="core-box"/>
  <text x="990" y="925" text-anchor="middle" class="small-label">Form</text>
  
  <rect x="1040" y="910" width="80" height="35" class="core-box"/>
  <text x="1080" y="925" text-anchor="middle" class="small-label">Mobile</text>
  
  <!-- Data Flows -->
  
  <!-- UI to State -->
  <line x1="130" y1="160" x2="170" y2="270" class="flow-arrow"/>
  <line x1="270" y1="160" x2="380" y2="270" class="flow-arrow"/>
  <line x1="410" y1="160" x2="780" y2="270" class="flow-arrow"/>
  <line x1="550" y1="160" x2="980" y2="270" class="flow-arrow"/>
  <line x1="1150" y1="160" x2="1180" y2="270" class="flow-arrow"/>
  
  <!-- State to Services -->
  <line x1="170" y1="310" x2="140" y2="385" class="flow-arrow"/>
  <line x1="380" y1="310" x2="290" y2="385" class="flow-arrow"/>
  <line x1="580" y1="310" x2="440" y2="385" class="flow-arrow"/>
  <line x1="780" y1="310" x2="780" y2="385" class="flow-arrow"/>
  <line x1="1180" y1="310" x2="590" y2="385" class="flow-arrow"/>
  
  <!-- Services to Storage -->
  <line x1="140" y1="435" x2="145" y2="570" class="flow-arrow"/>
  <line x1="290" y1="435" x2="315" y2="570" class="flow-arrow"/>
  <line x1="440" y1="435" x2="315" y2="570" class="flow-arrow"/>
  <line x1="590" y1="435" x2="655" y2="570" class="flow-arrow"/>
  
  <!-- LLM Services to External -->
  <line x1="250" y1="510" x2="130" y2="705" class="flow-arrow"/>
  <line x1="360" y1="510" x2="260" y2="705" class="flow-arrow"/>
  <line x1="470" y1="510" x2="390" y2="705" class="flow-arrow"/>
  <line x1="690" y1="510" x2="520" y2="705" class="flow-arrow"/>
  
  <!-- MCP Services to Servers -->
  <line x1="820" y1="510" x2="650" y2="705" class="flow-arrow"/>
  <line x1="950" y1="510" x2="760" y2="705" class="flow-arrow"/>
  <line x1="1080" y1="510" x2="870" y2="705" class="flow-arrow"/>
  <line x1="1210" y1="510" x2="980" y2="705" class="flow-arrow"/>
  
  <!-- Canvas Integration Flow -->
  <line x1="210" y1="855" x2="230" y2="855" class="flow-arrow"/>
  <line x1="370" y1="855" x2="390" y2="855" class="flow-arrow"/>
  <line x1="530" y1="855" x2="550" y2="855" class="flow-arrow"/>
  <line x1="690" y1="855" x2="710" y2="855" class="flow-arrow"/>
  
  <!-- Vision Flow -->
  <line x1="780" y1="830" x2="870" y2="855" class="flow-arrow"/>
  <line x1="1010" y1="855" x2="1030" y2="855" class="flow-arrow"/>
  <line x1="1170" y1="855" x2="1190" y2="855" class="flow-arrow"/>
  
  <!-- Component Flow -->
  <line x1="170" y1="927" x2="180" y2="927" class="flow-arrow"/>
  <line x1="280" y1="927" x2="290" y2="927" class="flow-arrow"/>
  
  <!-- Legend -->
  <text x="50" y="995" class="subtitle">Legend:</text>
  <rect x="50" y="1005" width="60" height="20" class="feature-box"/>
  <text x="120" y="1018" class="small-label">UI Components</text>
  
  <rect x="200" y="1005" width="60" height="20" class="service-box"/>
  <text x="270" y="1018" class="small-label">Business Services</text>
  
  <rect x="350" y="1005" width="60" height="20" class="core-box"/>
  <text x="420" y="1018" class="small-label">Core Systems</text>
  
  <rect x="500" y="1005" width="60" height="20" class="external-box"/>
  <text x="570" y="1018" class="small-label">External APIs</text>
  
  <rect x="650" y="1005" width="60" height="20" class="data-box"/>
  <text x="720" y="1018" class="small-label">Data Storage</text>
  
  <!-- Key Statistics -->
  <text x="50" y="1050" class="subtitle">Architecture Statistics:</text>
  <text x="60" y="1070" class="small-label">• 110+ Business Services (Target: 50 - Consolidation in progress)</text>
  <text x="60" y="1085" class="small-label">• 46 MCP Services (Target: 12 - See SERVICE_CONSOLIDATION_PLAN.md)</text>
  <text x="60" y="1100" class="small-label">• 1096+ Riverpod Providers for State Management</text>
  <text x="60" y="1115" class="small-label">• 178 Feature Files across 5 main modules</text>
  <text x="60" y="1130" class="small-label">• Multi-platform Desktop Support (Windows, macOS, Linux)</text>
  <text x="60" y="1145" class="small-label">• 5 Dynamic Color Schemes with Complete Design System</text>
  <text x="60" y="1160" class="small-label">• Centralized Component Library with Flutter Widget Definitions</text>
  
  <text x="700" y="1070" class="small-label">• Dual-Model AI Architecture (DeepSeek-R1 + LLaVA for Local Processing)</text>
  <text x="700" y="1085" class="small-label">• WebView-Flutter Bridge for Excalidraw Canvas Integration</text>
  <text x="700" y="1100" class="small-label">• Natural Language to Canvas Command Processing</text>
  <text x="700" y="1115" class="small-label">• OpenAI Vision API for Wireframe-to-Code Generation</text>
  <text x="700" y="1130" class="small-label">• JavaScript Component Library with 50+ Flutter Widget Templates</text>
  <text x="700" y="1145" class="small-label">• Real-time Design Agent to Canvas Element Creation</text>
  <text x="700" y="1160" class="small-label">• Cross-platform Ollama Integration for Local LLM Support</text>
</svg>